{"version":3,"sources":["../../src/models/file.js"],"names":["File","app","object","model","name","originalname","mimetype","size","createdAt","Date","now","get","callback","db","collection","insertOne","err","result"],"mappings":";;;;AAAA;;;;;;;;IAEMA,I;AACF,kBAAYC,GAAZ,EAAiBC,MAAjB,EAAwB;AAAA;;AACpB,aAAKD,GAAL,GAAWA,GAAX;AACA,aAAKE,KAAL,GAAa;AACTC,kBAAM,IADG;AAETC,0BAAc,IAFL;AAGTC,sBAAU,IAHD;AAITC,kBAAM,IAJG;AAKTC,uBAAWC,KAAKC,GAAL;AALF,SAAb;AAOH;;;;mCAEUR,M,EAAO;AACd,iBAAKC,KAAL,CAAWC,IAAX,GAAkB,iBAAEO,GAAF,CAAMT,MAAN,EAAa,UAAb,CAAlB,CADc,CAC8B;AAC5C,iBAAKC,KAAL,CAAWE,YAAX,GAA0B,iBAAEM,GAAF,CAAMT,MAAN,EAAc,cAAd,CAA1B;AACA,iBAAKC,KAAL,CAAWG,QAAX,GAAsB,iBAAEK,GAAF,CAAMT,MAAN,EAAc,UAAd,CAAtB;AACA,iBAAKC,KAAL,CAAWI,IAAX,GAAkB,iBAAEI,GAAF,CAAMT,MAAN,EAAc,MAAd,CAAlB;AACA,iBAAKC,KAAL,CAAWK,SAAX,GAAuBC,KAAKC,GAAL,EAAvB;;AAEA,mBAAO,IAAP;AACH;;;uCAEa;AACV,mBAAO,KAAKP,KAAZ;AACH;;;6BAEIS,Q,EAAS;AACV,gBAAMC,KAAK,KAAKZ,GAAL,CAASU,GAAT,CAAa,IAAb,CAAX;AACAE,eAAGC,UAAH,CAAc,OAAd,EAAuBC,SAAvB,CAAiC,KAAKZ,KAAtC,EAA6C,UAACa,GAAD,EAAKC,MAAL,EAAc;AACvD,uBAAOL,SAASI,GAAT,EAAaC,MAAb,CAAP;AACH,aAFD;AAGH","file":"file.js","sourcesContent":["import _ from 'lodash';\n\nclass File {\n    constructor(app, object){\n        this.app = app;\n        this.model = {\n            name: null,\n            originalname: null,\n            mimetype: null,\n            size: null,\n            createdAt: Date.now(),\n        }\n    }\n\n    initObject(object){\n        this.model.name = _.get(object,'filename'); //\n        this.model.originalname = _.get(object, 'originalname');\n        this.model.mimetype = _.get(object, 'mimetype');\n        this.model.size = _.get(object, 'size');\n        this.model.createdAt = Date.now();\n\n        return this;\n    }\n\n    toJsonObject(){\n        return this.model;\n    }\n\n    save(callback){\n        const db = this.app.get('db');\n        db.collection('files').insertOne(this.model, (err,result)=>{\n            return callback(err,result);\n        });\n    }\n}"]}